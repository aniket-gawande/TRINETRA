# ğŸ—ºï¸ Waypoint Feature - Visual Overview

## Feature in Action

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TRINETRA MAP PLANNER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ SIDEBAR      â”‚  â”‚           MAP VIEW                  â”‚    â”‚
â”‚  â”‚              â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ ğŸ“ Route     â”‚  â”‚   ğŸŸ¢ Your Location (10m radius)   â”‚    â”‚
â”‚  â”‚ Planner      â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚              â”‚  â”‚   ğŸ¤– Rover Position                â”‚    â”‚
â”‚  â”‚ ğŸ“Œ Waypoints â”‚  â”‚   (if available)                    â”‚    â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚              â”‚  â”‚   ğŸ”µ Waypoint 1 (marker)           â”‚    â”‚
â”‚  â”‚ WP1          â”‚  â”‚   ğŸ”µ Waypoint 2 (marker)           â”‚    â”‚
â”‚  â”‚ 18.65170     â”‚  â”‚   ğŸ”µ Waypoint 3 (marker)           â”‚    â”‚
â”‚  â”‚ 73.76150     â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚              â”‚  â”‚   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                â”‚    â”‚
â”‚  â”‚ WP2          â”‚  â”‚   (Route line connecting points)    â”‚    â”‚
â”‚  â”‚ 18.65175     â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ 73.76155     â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚              â”‚  â”‚   Click anywhere to add waypoint   â”‚    â”‚
â”‚  â”‚ WP3          â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ 18.65180     â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ 73.76160     â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚              â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ ğŸŸ¥ Clear     â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ Route        â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚              â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ âœ… Status:   â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ Waypoint 3   â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚ saved!       â”‚  â”‚                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚ â— Logged in as: user@example.com                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Complete Data Flow

```
USER CLICKS MAP
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MapView.onAdd()      â”‚
â”‚ Captures: lat, lng   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Planner.handleAddWaypoint()  â”‚
â”‚ âœ… Validates data            â”‚
â”‚ âœ… Checks authentication     â”‚
â”‚ âœ… Sets loading state        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ api.post("/waypoints", data) â”‚
â”‚ âœ… Adds auth token           â”‚
â”‚ âœ… Sends coordinates         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼ HTTP POST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: /api/waypoints      â”‚
â”‚ âœ… Checks token              â”‚
â”‚ âœ… Validates coordinates     â”‚
â”‚ âœ… Checks ranges             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MongoDB: Insert Document     â”‚
â”‚ âœ… Saves waypoint object     â”‚
â”‚ âœ… Assigns unique _id        â”‚
â”‚ âœ… Records timestamp         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼ Response 201 Created
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend: Waypoint Saved     â”‚
â”‚ âœ… Update state              â”‚
â”‚ âœ… Re-render map             â”‚
â”‚ âœ… Show marker               â”‚
â”‚ âœ… Update sidebar            â”‚
â”‚ âœ… Show success message      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Database Structure

```
MongoDB
â””â”€â”€ Database: trinetra
    â””â”€â”€ Collection: waypoints
        â””â”€â”€ Document: {
              _id: ObjectId("507f1f77bcf86cd799439011"),
              lat: 18.6517,
              lng: 73.7615,
              order: 1,
              createdAt: ISODate("2026-01-25T10:30:00.000Z")
            }
        â””â”€â”€ Document: {
              _id: ObjectId("507f1f77bcf86cd799439012"),
              lat: 18.6520,
              lng: 73.7620,
              order: 2,
              createdAt: ISODate("2026-01-25T10:35:00.000Z")
            }
        â””â”€â”€ Document: {...}
```

---

## API Communication

```
REQUEST (Frontend â†’ Backend)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/waypoints              â”‚
â”‚                                  â”‚
â”‚ Headers:                         â”‚
â”‚ - Content-Type: application/json â”‚
â”‚ - Authorization: Bearer <token>  â”‚
â”‚                                  â”‚
â”‚ Body:                            â”‚
â”‚ {                                â”‚
â”‚   "lat": 18.6517,                â”‚
â”‚   "lng": 73.7615,                â”‚
â”‚   "order": 1                     â”‚
â”‚ }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
RESPONSE (Backend â†’ Frontend)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Status: 201 Created              â”‚
â”‚                                  â”‚
â”‚ Body:                            â”‚
â”‚ {                                â”‚
â”‚   "_id": "507f1...",            â”‚
â”‚   "lat": 18.6517,                â”‚
â”‚   "lng": 73.7615,                â”‚
â”‚   "order": 1,                    â”‚
â”‚   "createdAt": "2026-01-25..."  â”‚
â”‚ }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Features at a Glance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WAYPOINT SYSTEM                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  INPUT                   PROCESSING               OUTPUT    â”‚
â”‚  â”€â”€â”€â”€â”€                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                             â”‚
â”‚  Click Map      â†’    Validate       â†’    Save to DB  âœ…   â”‚
â”‚  (lat, lng)          Coordinates         MongoDB          â”‚
â”‚                      Check Auth                           â”‚
â”‚                                                             â”‚
â”‚  View DB        â†’    Query          â†’    Show List   âœ…   â”‚
â”‚  (Button)            MongoDB              Compass         â”‚
â”‚                      Sort Results                         â”‚
â”‚                                                             â”‚
â”‚  Clear Route    â†’    Confirm        â†’    Delete All  âœ…   â”‚
â”‚  (Button)            Check Auth          MongoDB          â”‚
â”‚                      Delete Docs                          â”‚
â”‚                                                             â”‚
â”‚  Refresh Page   â†’    Verify Auth    â†’    Reload Data âœ…   â”‚
â”‚  (Browser)           Query DB             Render Map      â”‚
â”‚                      Load Waypoints       Show Markers     â”‚
â”‚                                                             â”‚
â”‚  Logout         â†’    Invalidate     â†’    Clear State âœ…   â”‚
â”‚  (Button)            Session             Remove Data      â”‚
â”‚                      Revoke Token                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Hierarchy

```
App
â”œâ”€â”€ AuthProvider
â”‚   â””â”€â”€ Routes
â”‚       â””â”€â”€ Planner Page
â”‚           â”œâ”€â”€ MapContainer (React Leaflet)
â”‚           â”‚   â”œâ”€â”€ TileLayer (OpenStreetMap)
â”‚           â”‚   â””â”€â”€ MapView Component
â”‚           â”‚       â”œâ”€â”€ RecenterMap Hook
â”‚           â”‚       â”œâ”€â”€ MapResizer Hook
â”‚           â”‚       â”œâ”€â”€ useMapEvents Hook
â”‚           â”‚       â”œâ”€â”€ User Marker + Circle
â”‚           â”‚       â”œâ”€â”€ Rover Marker
â”‚           â”‚       â”œâ”€â”€ Waypoint Markers (Loop)
â”‚           â”‚       â””â”€â”€ Polyline Route
â”‚           â”‚
â”‚           â””â”€â”€ Sidebar
â”‚               â”œâ”€â”€ Login Status
â”‚               â”œâ”€â”€ Status Message
â”‚               â”œâ”€â”€ Clear Route Button
â”‚               â””â”€â”€ Waypoint List
â”‚                   â””â”€â”€ Waypoint Cards (Loop)
```

---

## State Management

```
Frontend State Tree
â”‚
â”œâ”€â”€ user (from Firebase)
â”‚   â”œâ”€â”€ uid
â”‚   â”œâ”€â”€ email
â”‚   â””â”€â”€ emailVerified
â”‚
â”œâ”€â”€ waypoints (from MongoDB)
â”‚   â”œâ”€â”€ [0]: { _id, lat, lng, order, createdAt }
â”‚   â”œâ”€â”€ [1]: { _id, lat, lng, order, createdAt }
â”‚   â””â”€â”€ [...]
â”‚
â”œâ”€â”€ userPosition (from Geolocation)
â”‚   â”œâ”€â”€ lat: number
â”‚   â””â”€â”€ lng: number
â”‚
â”œâ”€â”€ roverPosition (from /rover/gps)
â”‚   â”œâ”€â”€ lat: number
â”‚   â””â”€â”€ lng: number
â”‚
â”œâ”€â”€ statusMessage (UI feedback)
â”‚   â””â”€â”€ string: "âœ… Waypoint saved!" | "âŒ Error" | ""
â”‚
â””â”€â”€ isSaving (loading state)
    â””â”€â”€ boolean: true | false
```

---

## Validation Pipeline

```
USER INPUT
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND VALIDATION          â”‚
â”‚ âœ… User logged in?           â”‚
â”‚ âœ… Coordinates exist?        â”‚
â”‚ âœ… lat is number?            â”‚
â”‚ âœ… lng is number?            â”‚
â”‚ âœ… Not NaN?                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (if valid)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND VALIDATION           â”‚
â”‚ âœ… Auth token present?       â”‚
â”‚ âœ… Token valid?              â”‚
â”‚ âœ… lat provided?             â”‚
â”‚ âœ… lng provided?             â”‚
â”‚ âœ… lat is number?            â”‚
â”‚ âœ… lng is number?            â”‚
â”‚ âœ… lat in [-90, 90]?         â”‚
â”‚ âœ… lng in [-180, 180]?       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (if valid)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATABASE VALIDATION          â”‚
â”‚ âœ… MongoDB schema match?     â”‚
â”‚ âœ… Document valid?           â”‚
â”‚ âœ… Can insert?               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (if valid)
         â–¼
âœ… SAVED SUCCESSFULLY
```

---

## Features Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FEATURE MATRIX                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Feature                Status    Examples                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  Add Waypoint           âœ…       Click map â†’ marker appears      â”‚
â”‚  View on Map            âœ…       Blue circles numbered 1,2,3...  â”‚
â”‚  View Coordinates       âœ…       Sidebar shows exact lat/lng    â”‚
â”‚  View in Database       âœ…       MongoDB Compass, CLI, API      â”‚
â”‚  Route Line             âœ…       Blue dashed line connects pts  â”‚
â”‚  Clear Route            âœ…       Button with confirmation       â”‚
â”‚  Status Messages        âœ…       Success, error, loading states â”‚
â”‚  Persistence            âœ…       Survives page refresh          â”‚
â”‚  Authentication         âœ…       Firebase token required        â”‚
â”‚  Error Handling         âœ…       Clear messages for all errors  â”‚
â”‚  Logging                âœ…       Backend + console logs         â”‚
â”‚  Performance            âœ…       <1s for all operations         â”‚
â”‚  Responsive Design      âœ…       Works at all resolutions       â”‚
â”‚  Accessibility          âœ…       Keyboard + mouse support       â”‚
â”‚  Documentation          âœ…       10 comprehensive guides        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Success Journey

```
START
  â”‚
  â”œâ”€â–º 1. Click Map
  â”‚   Status: ğŸŸ¢ Marker appears instantly
  â”‚
  â”œâ”€â–º 2. Check Sidebar
  â”‚   Status: ğŸŸ¢ Coordinates shown with 5 decimals
  â”‚
  â”œâ”€â–º 3. Open MongoDB
  â”‚   Status: ğŸŸ¢ Document saved in collection
  â”‚
  â”œâ”€â–º 4. Refresh Page
  â”‚   Status: ğŸŸ¢ Waypoint still there
  â”‚
  â”œâ”€â–º 5. Add More Points
  â”‚   Status: ğŸŸ¢ All appear with route line
  â”‚
  â”œâ”€â–º 6. Click Clear Route
  â”‚   Status: ğŸŸ¢ All deleted instantly
  â”‚
  â”œâ”€â–º 7. Check Console
  â”‚   Status: ğŸŸ¢ All logs show success
  â”‚
  â””â”€â–º âœ¨ FEATURE COMPLETE!
```

---

## Error Handling Flow

```
ERROR OCCURS
    â”‚
    â”œâ”€â–º Not Logged In
    â”‚   â””â”€â–º Show: "Please login to mark waypoints"
    â”‚
    â”œâ”€â–º Invalid Coordinates
    â”‚   â””â”€â–º Show: "Invalid latitude or longitude range"
    â”‚
    â”œâ”€â–º Network Error
    â”‚   â””â”€â–º Show: "Failed to save waypoint"
    â”‚
    â”œâ”€â–º Database Error
    â”‚   â””â”€â–º Show: "Server error - contact admin"
    â”‚
    â”œâ”€â–º Auth Token Invalid
    â”‚   â””â”€â–º Show: "Unauthorized - please login again"
    â”‚
    â””â”€â–º Unknown Error
        â””â”€â–º Log full error + Show: "Something went wrong"
```

---

## Quick Reference Card

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              QUICK REFERENCE CARD                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ TO ADD A WAYPOINT:                                      â”‚
â”‚   1. Login to app                                       â”‚
â”‚   2. Go to Planner page                                â”‚
â”‚   3. Click on map                                       â”‚
â”‚   4. See marker appear with number                     â”‚
â”‚   5. Check coordinates in sidebar                      â”‚
â”‚                                                          â”‚
â”‚ TO VIEW IN DATABASE:                                   â”‚
â”‚   A. MongoDB Compass GUI                               â”‚
â”‚   B. MongoDB CLI: db.waypoints.find()                 â”‚
â”‚   C. API: /api/waypoints/debug/count                  â”‚
â”‚   D. Browser Console: F12 â†’ Console tab               â”‚
â”‚                                                          â”‚
â”‚ TO DELETE ALL:                                         â”‚
â”‚   Click "Clear Route" button + confirm                â”‚
â”‚                                                          â”‚
â”‚ TO TROUBLESHOOT:                                       â”‚
â”‚   1. Check F12 console for errors                     â”‚
â”‚   2. Check backend terminal logs                       â”‚
â”‚   3. Check MongoDB is running                          â”‚
â”‚   4. Check .env has correct settings                   â”‚
â”‚                                                          â”‚
â”‚ TO VERIFY:                                             â”‚
â”‚   âœ… Click map â†’ marker appears                        â”‚
â”‚   âœ… Sidebar shows coordinates                         â”‚
â”‚   âœ… Database has data                                 â”‚
â”‚   âœ… Refresh page â†’ data persists                      â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This visual guide should help you quickly understand how everything works together! ğŸ‰
